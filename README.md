# HTTP Endpoint Monitor

–ù–µ–±–æ–ª—å—à–æ–π —Å–µ—Ä–≤–∏—Å –Ω–∞ **FastAPI** –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–ø–∏—Å–∫–∞ URL-—ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤, –ø–æ–¥—Å—á—ë—Ç–∞ —É—Å–ø–µ—à–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ (—Ç–æ–ª—å–∫–æ 2xx) –∏ –≤—ã–¥–∞—á–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —á–µ—Ä–µ–∑ REST API.

---

## üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞:

   ```bash
   git clone https://github.com/Huen1x/HTTP-Endpoint-Monitor.git
   cd http-endpoint-monitor
   ```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

   ```bash
   pip install -r src/requirements.txt
   ```

3. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –°–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä Docker:

   ```bash
   # –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞
   docker build -t endpoint-monitor .
   docker run -d -p 8000:8000 endpoint-monitor
   ```

4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ (–±–µ–∑ Docker):

   ```bash
   cd src
   uvicorn main:app --reload
   ```

5. –ß—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å—ë –∑–∞–ø—É—â–µ–Ω–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –æ–¥–∏–Ω –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö –∞–¥—Ä–µ—Å–æ–≤:

   * **API**: `http://127.0.0.1:8000`
   * **Swagger UI**: `http://127.0.0.1:8000/docs`

---

## üîå –û–ø–∏—Å–∞–Ω–∏–µ API

–í—Å–µ –º–∞—Ä—à—Ä—É—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ–¥ –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `/endpoints`.

### –î–æ–±–∞–≤–∏—Ç—å URL

* **POST** `/endpoints/`
* **Body** (JSON):

  ```json
  { "url": "https://example.com" }
  ```
* **–£—Å–ø–µ—Ö**: `201 Created`

  ```json
  { "id": 1, "url": "https://example.com", "count": 0 }
  ```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å URL

* **POST** `/endpoints/{id}/check`
* **–£—Å–ø–µ—Ö**: `200 OK`

  ```json
  { "status": 200, "counted": true }
  ```

### –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫

* **GET** `/endpoints/?sort=asc|desc`
* **Query-–ø–∞—Ä–∞–º–µ—Ç—Ä**:

  * `sort` ‚Äî `asc` –∏–ª–∏ `desc` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `desc`)
* **–£—Å–ø–µ—Ö**: `200 OK`

  ```json
  [
    { "id": 1, "url": "...", "count": 5 },
    { "id": 2, "url": "...", "count": 3 }
  ]
  ```

### –£–¥–∞–ª–∏—Ç—å URL

* **DELETE** `/endpoints/{id}`
* **–£—Å–ø–µ—Ö**: `204 No Content`

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –ø–æ–∫—Ä—ã—Ç —Ç–µ—Å—Ç–∞–º–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **pytest**.

* **tests/test/test_logic.py** ‚Äî unit-—Ç–µ—Å—Ç—ã –¥–ª—è –ª–æ–≥–∏–∫–∏ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞ —Å—á—ë—Ç—á–∏–∫–∞
* **tests/test/test_api.py** ‚Äî –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è REST API —Å SQLite

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
pytest
```
